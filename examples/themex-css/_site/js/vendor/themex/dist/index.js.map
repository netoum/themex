{
  "version": 3,
  "sources": ["../src/index.ts", "../src/themex.ts"],
  "sourcesContent": ["export { default as Themex } from './themex.ts';\nexport * from './types.ts';\n", "type ThemexKey = string;\ntype ThemexValue = string;\ninterface ThemexOptions {\n  key: ThemexKey;\n  default: ThemexValue;\n  values: ThemexValue[];\n}\nclass Themex {\n  private options: ThemexOptions[];\n  constructor(options: ThemexOptions[]) {\n    this.options = options;\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => {\n        this.initializeThemex();\n        this.setupEventListeners();\n      });\n    } else {\n      this.initializeThemex();\n      this.setupEventListeners();\n    }\n  }\n  private initializeThemex(): void {\n    this.options.forEach(({ key, default: defaultValue }) => {\n      const savedValue = localStorage.getItem(key);\n      const value = savedValue || defaultValue;\n      this.applyThemex(key, value);\n      this.updateUI(key, value);\n    });\n  }\n  private setupEventListeners(): void {\n    document.querySelectorAll<HTMLButtonElement>('button[data-themex-key]').forEach(button => {\n      button.addEventListener('click', (e) => {\n        e.preventDefault();\n        const target = e.currentTarget as HTMLButtonElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const value = target.dataset.themexValue as ThemexValue;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n    document.querySelectorAll<HTMLButtonElement>('div[role=\"button\"][data-themex-key]').forEach(button => {\n      button.addEventListener('click', (e) => {\n        e.preventDefault();\n        const target = e.currentTarget as HTMLButtonElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const value = target.dataset.themexValue as ThemexValue;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n    document.querySelectorAll<HTMLSelectElement>('select[data-themex-key]').forEach(select => {\n      select.addEventListener('change', (e) => {\n        const target = e.target as HTMLSelectElement;\n        const key = target.dataset.themexKey as string;\n        const value = target.value as ThemexValue;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n    document.querySelectorAll<HTMLLinkElement>('a[data-themex-key]').forEach(link => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n        const target = e.currentTarget as HTMLLinkElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const value = target.dataset.themexValue as string;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n    document.querySelectorAll<HTMLInputElement>('input[type=\"checkbox\"][data-themex-key]').forEach(toggle => {\n      toggle.addEventListener('change', (e) => {\n        const target = e.target as HTMLInputElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const [onValue, offValue] = (target.dataset.themexValue || '').split(',');\n        const value = target.checked ? onValue : offValue;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n    document.querySelectorAll<HTMLInputElement>('input[type=\"radio\"][data-themex-key]').forEach(radio => {\n      radio.addEventListener('change', (e) => {\n        const target = e.target as HTMLInputElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const value = target.dataset.themexValue as string;\n        if (target.checked) {\n          this.applyThemex(key, value);\n          this.updateUI(key, value);\n        }\n      });\n    });\n    document.querySelectorAll<HTMLInputElement>('input[type=\"range\"][data-themex-key]').forEach(range => {\n      range.addEventListener('change', (e) => {\n        const target = e.target as HTMLInputElement;\n        const key = target.dataset.themexKey as ThemexKey;\n        const value = target.value;\n        this.applyThemex(key, value);\n        this.updateUI(key, value);\n      });\n    });\n  }\n  private applyThemex(key: ThemexKey, value: ThemexValue): void {\n    localStorage.setItem(key, value);\n    document.documentElement.setAttribute(`data-${key}`, value);\n  }\n  private updateUI(key: ThemexKey, value: ThemexValue): void {\n    document.querySelectorAll<HTMLButtonElement>(`button[data-themex-key=\"${key}\"][set]`)\n      .forEach(button => {\n        const buttonValue = button.dataset.themexValue as ThemexValue;\n        const isSelected = buttonValue === value;\n        button.setAttribute('aria-current', isSelected.toString());\n      });\n    document.querySelectorAll<HTMLButtonElement>(`div[role=\"button\"][data-themex-key=\"${key}\"][set]`)\n      .forEach(button => {\n        const buttonValue = button.dataset.themexValue as ThemexValue;\n        const isSelected = buttonValue === value;\n        button.setAttribute('aria-current', isSelected.toString());\n      });\n    document.querySelectorAll<HTMLButtonElement>(`button[data-themex-key=\"${key}\"][toggle]`)\n      .forEach(button => {\n        const buttonValue = button.dataset.themexValue as ThemexValue;\n        const isSelected = buttonValue === value;\n        button.setAttribute('aria-pressed', isSelected.toString());\n      });\n    document.querySelectorAll<HTMLButtonElement>(`div[role=\"button\"][data-themex-key=\"${key}\"][toggle]`)\n      .forEach(button => {\n        const buttonValue = button.dataset.themexValue as ThemexValue;\n        const isSelected = buttonValue === value;\n        button.setAttribute('aria-pressed', isSelected.toString());\n      });\n      document.querySelectorAll<HTMLSelectElement>(`select[data-themex-key=\"${key}\"]`)\n      .forEach(select => {\n        select.value = value;\n    \n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"data-selected\");\n        });\n    \n        const selectedOption = select.querySelector(`option[value=\"${value}\"]`);\n        if (selectedOption) {\n          selectedOption.setAttribute(\"data-selected\", \"true\");\n        }\n      });\n    \n    document.querySelectorAll<HTMLInputElement>(`input[type=\"checkbox\"][data-themex-key=\"${key}\"]`)\n      .forEach(toggle => {\n        const [onValue] = (toggle.dataset.themexValue || '').split(',');\n        toggle.checked = value === onValue;\n      });\n\n    document.querySelectorAll<HTMLInputElement>(`input[type=\"radio\"][data-themex-key=\"${key}\"]`)\n      .forEach(radio => {\n        const radioValue = radio.dataset.themexValue as ThemexValue;\n        radio.checked = radioValue === value;\n      });\n    document.querySelectorAll<HTMLInputElement>(`input[type=\"range\"][data-themex-key=\"${key}\"]`)\n      .forEach(range => {\n        range.value = value;\n      });\n  }\n}\nexport default Themex;"],
  "mappings": "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",
  "names": []
}
