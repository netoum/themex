var s=class{options;constructor(a){this.options=a,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{this.initializeThemex(),this.setupEventListeners()}):(this.initializeThemex(),this.setupEventListeners())}initializeThemex(){this.options.forEach(({key:a,default:n})=>{let t=localStorage.getItem(a)||n;this.applyThemex(a,t),this.updateUI(a,t)})}setupEventListeners(){document.querySelectorAll("button[data-themex-key]").forEach(a=>{a.addEventListener("click",n=>{n.preventDefault();let e=n.currentTarget,t=e.dataset.themexKey,l=e.dataset.themexValue;this.applyThemex(t,l),this.updateUI(t,l)})}),document.querySelectorAll('div[role="button"][data-themex-key]').forEach(a=>{a.addEventListener("click",n=>{n.preventDefault();let e=n.currentTarget,t=e.dataset.themexKey,l=e.dataset.themexValue;this.applyThemex(t,l),this.updateUI(t,l)})}),document.querySelectorAll("select[data-themex-key]").forEach(a=>{a.addEventListener("change",n=>{let e=n.target,t=e.dataset.themexKey,l=e.value;this.applyThemex(t,l),this.updateUI(t,l)})}),document.querySelectorAll("a[data-themex-key]").forEach(a=>{a.addEventListener("click",n=>{n.preventDefault();let e=n.currentTarget,t=e.dataset.themexKey,l=e.dataset.themexValue;this.applyThemex(t,l),this.updateUI(t,l)})}),document.querySelectorAll('input[type="checkbox"][data-themex-key]').forEach(a=>{a.addEventListener("change",n=>{let e=n.target,t=e.dataset.themexKey,[l,u]=(e.dataset.themexValue||"").split(","),o=e.checked?l:u;this.applyThemex(t,o),this.updateUI(t,o)})}),document.querySelectorAll('input[type="radio"][data-themex-key]').forEach(a=>{a.addEventListener("change",n=>{let e=n.target,t=e.dataset.themexKey,l=e.dataset.themexValue;e.checked&&(this.applyThemex(t,l),this.updateUI(t,l))})}),document.querySelectorAll('input[type="range"][data-themex-key]').forEach(a=>{a.addEventListener("change",n=>{let e=n.target,t=e.dataset.themexKey,l=e.value;this.applyThemex(t,l),this.updateUI(t,l)})})}applyThemex(a,n){localStorage.setItem(a,n),document.documentElement.setAttribute(`data-${a}`,n)}updateUI(a,n){document.querySelectorAll(`button[data-themex-key="${a}"][set]`).forEach(e=>{let l=e.dataset.themexValue===n;e.setAttribute("aria-current",l.toString())}),document.querySelectorAll(`div[role="button"][data-themex-key="${a}"][set]`).forEach(e=>{let l=e.dataset.themexValue===n;e.setAttribute("aria-current",l.toString())}),document.querySelectorAll(`button[data-themex-key="${a}"][toggle]`).forEach(e=>{let l=e.dataset.themexValue===n;e.setAttribute("aria-pressed",l.toString())}),document.querySelectorAll(`div[role="button"][data-themex-key="${a}"][toggle]`).forEach(e=>{let l=e.dataset.themexValue===n;e.setAttribute("aria-pressed",l.toString())}),document.querySelectorAll(`select[data-themex-key="${a}"]`).forEach(e=>{e.value=n,e.querySelectorAll("option").forEach(l=>{l.removeAttribute("data-selected")});let t=e.querySelector(`option[value="${n}"]`);t&&t.setAttribute("data-selected","true")}),document.querySelectorAll(`input[type="checkbox"][data-themex-key="${a}"]`).forEach(e=>{let[t]=(e.dataset.themexValue||"").split(",");e.checked=n===t}),document.querySelectorAll(`input[type="radio"][data-themex-key="${a}"]`).forEach(e=>{let t=e.dataset.themexValue;e.checked=t===n}),document.querySelectorAll(`input[type="range"][data-themex-key="${a}"]`).forEach(e=>{e.value=n})}},r=s;export{r as Themex};
//# sourceMappingURL=index.esm.min.js.map
